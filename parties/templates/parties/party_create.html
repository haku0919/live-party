{% extends "parties/base.html" %}

{% block title %}íŒŒí‹° ë§Œë“¤ê¸°{% endblock %}

{% block content %}
<style>
  .create-wrap { max-width: 720px; margin: 10px auto 0; }
  .create-panel { padding: 28px; }
  .create-head h1 { margin: 0 0 8px; font-size: 2rem; }
  .create-head p { margin: 0; color: var(--muted); }
  .create-grid {
    margin-top: 24px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 14px;
  }
  .create-grid .full { grid-column: 1 / -1; }
  .field label {
    display: block;
    margin-bottom: 8px;
    font-size: 0.88rem;
    color: var(--muted);
  }
  .error-msg {
    margin-top: 7px;
    color: var(--warn);
    font-size: 0.82rem;
  }
  .toggle-box {
    display: flex;
    align-items: center;
    gap: 12px;
    border: 1px solid var(--line);
    background: rgba(255, 255, 255, 0.03);
    border-radius: 12px;
    padding: 12px;
    cursor: pointer;
  }
  .toggle-box input { accent-color: var(--brand-strong); width: 18px; height: 18px; }
  .helper {
    margin-top: 10px;
    color: var(--muted);
    font-size: 0.82rem;
  }
  .actions {
    margin-top: 24px;
    display: flex;
    gap: 10px;
  }
  .actions .btn { flex: 1; text-align: center; }

  @media (max-width: 760px) {
    .create-grid { grid-template-columns: 1fr; }
  }
</style>

<section class="create-wrap">
  <div class="panel create-panel">
    <div class="create-head">
      <h1>ìƒˆ íŒŒí‹° ìƒì„±</h1>
      <p>ê²Œì„/ëª¨ë“œ/ì¸ì›ë§Œ ì…ë ¥í•˜ë©´ ë°”ë¡œ ì‹¤ì‹œê°„ ëª¨ì§‘ì´ ì‹œì‘ë©ë‹ˆë‹¤.</p>
    </div>

    <form method="post" novalidate>
      {% csrf_token %}

      {% if form.non_field_errors %}
        {% for err in form.non_field_errors %}
          <p class="error-msg">{{ err }}</p>
        {% endfor %}
      {% endif %}

      <div class="create-grid">
        <div class="field">
          <label for="{{ form.game.id_for_label }}">{{ form.game.label }}</label>
          {{ form.game }}
          {% for error in form.game.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>

        <div class="field">
          <label for="{{ form.mode.id_for_label }}">{{ form.mode.label }}</label>
          {{ form.mode }}
          {% for error in form.mode.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>

        <div class="field full">
          <label for="{{ form.description.id_for_label }}">{{ form.description.label }}</label>
          {{ form.description }}
          <p class="helper">íŒ€ì› ëª¨ì§‘ ê¸°ì¤€, ë””ìŠ¤ì½”ë“œ ì‚¬ìš© ì—¬ë¶€ ë“±ì„ ì“°ë©´ ì°¸ì—¬ìœ¨ì´ ë†’ì•„ì§‘ë‹ˆë‹¤.</p>
          {% for error in form.description.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>

        <div class="field">
          <label for="{{ form.max_members.id_for_label }}">{{ form.max_members.label }}</label>
          {{ form.max_members }}
          {% for error in form.max_members.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>

        <div class="field">
          <label>{{ form.mic_required.label }}</label>
          <label class="toggle-box" for="{{ form.mic_required.id_for_label }}">
            {{ form.mic_required }}
            <span>ğŸ™ï¸ ìŒì„± ì°¸ì—¬ê°€ ê°€ëŠ¥í•œ ìœ ì €ë§Œ ëª¨ì§‘</span>
          </label>
          {% for error in form.mic_required.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>

        <div class="field full">
          <label for="{{ form.join_policy.id_for_label }}">{{ form.join_policy.label }}</label>
          {{ form.join_policy }}
          <p class="helper">ì¦‰ì‹œ ì…ì¥ì€ ë°”ë¡œ í•©ë¥˜, ìŠ¹ì¸ì œëŠ” ë°©ì¥ì´ ì‹ ì²­ì„ ìˆ˜ë½í•´ì•¼ í•©ë¥˜ë©ë‹ˆë‹¤.</p>
          {% for error in form.join_policy.errors %}<p class="error-msg">{{ error }}</p>{% endfor %}
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="btn btn-solid">íŒŒí‹° ë§Œë“¤ê¸°</button>
        <a href="{% url 'party_list' %}" class="btn btn-ghost">ì·¨ì†Œ</a>
      </div>
    </form>
  </div>
</section>
{% endblock %}
