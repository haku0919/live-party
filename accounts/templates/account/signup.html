{% extends "account/base.html" %}
{% load widget_tweaks %}

{% block title %}íšŒì›ê°€ì…{% endblock %}

{% block content %}
<style>
  /* --- ë ˆì´ì•„ì›ƒ --- */
  .signup-wrap{max-width:520px; margin:46px auto 70px;}
  .signup-card{background: rgba(28,32,41,.85); border: 1px solid rgba(255,255,255,.08); border-radius: 14px; padding: 18px;}
  .title{margin:0; font-size:22px; font-weight:800;}
  .desc{margin:6px 0 14px; color:rgba(255,255,255,.65); font-size:14px; line-height:1.6;}
  .hr{border:0; border-top:1px solid rgba(255,255,255,.08); margin:14px 0;}

  /* --- ì…ë ¥ í•„ë“œ ê³µí†µ --- */
  .field{margin:10px 0;}
  .podo-input{width:100%; padding:12px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.04); color:rgba(255,255,255,.92); outline:none; transition: 0.2s;}
  .podo-input:focus{border-color: rgba(88,101,242,.55); background: rgba(255,255,255,.06);}
  .error{border-color: rgba(255,92,92,.65) !important;}
  .error-message{color:#ff7a7a; font-size:13px; margin-top:6px;}

  /* --- ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ (ë°˜ë°˜) --- */
  .two{display:grid; grid-template-columns: 1fr 1fr; gap:10px;}
  @media (max-width:640px){ .two{grid-template-columns:1fr;} }

  /* --- ê²Œì„ ì„ íƒ ì²´í¬ë°•ìŠ¤ --- */
  .games{display:grid; grid-template-columns: repeat(2, 1fr); gap:10px;}
  @media (max-width:520px){ .games{grid-template-columns:1fr;} }
  .game-item{position:relative;}
  .games input[type="checkbox"]{position:absolute; opacity:0; pointer-events:none;}
  .games label{display:flex; align-items:center; justify-content:space-between; height:50px; padding:0 14px; border-radius:12px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.03); cursor:pointer; font-size:14px;}
  /* ì²´í¬ë˜ì—ˆì„ ë•Œ ìŠ¤íƒ€ì¼ */
  .games input[type="checkbox"]:checked + label{
    border-color: rgba(88,101,242,.55); 
    background: linear-gradient(135deg, rgba(88,101,242,.18), rgba(123,133,255,.10));
    font-weight: 700;
  }

  /* --- [NEW] ë§ˆì´í¬ ì²´í¬ë°•ìŠ¤ ìŠ¤íƒ€ì¼ --- */
  .checkbox-wrap {
    display: flex; align-items: center; gap: 12px;
    padding: 12px 14px;
    background: rgba(255, 255, 255, 0.04);
    border-radius: 12px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    cursor: pointer;
    transition: 0.2s;
  }
  .checkbox-wrap:hover { background: rgba(255, 255, 255, 0.07); }
  .checkbox-wrap input[type="checkbox"] {
    width: 18px; height: 18px;
    accent-color: #5865F2; /* ë¸Œëœë“œ ì»¬ëŸ¬ */
    cursor: pointer;
  }
  .checkbox-label { font-size: 15px; color: rgba(255, 255, 255, 0.9); font-weight: 600; }

  /* --- ë²„íŠ¼ (ìˆ˜ì •ë¨: .signup-card ì•ˆì—ì„œë§Œ ì ìš©) --- */
  .signup-card .btn{
    width:100%; padding:14px; 
    border-radius:12px; 
    border:1px solid rgba(88,101,242,.35); 
    background: linear-gradient(135deg, rgba(88,101,242,.95), rgba(123,133,255,.95)); 
    color:#fff; font-size:16px; font-weight:800; 
    cursor:pointer; margin-top:20px;
    transition: filter 0.2s;
  }
  .signup-card .btn:hover { filter: brightness(1.1); }

  .footer{max-width:520px; margin:14px auto 0; color:rgba(255,255,255,.65); font-size:13px; text-align:center;}
  .footer a{color:rgba(255,255,255,.9); text-decoration:none; font-weight:600;}

  /* --- [NEW] ìˆ«ì ì…ë ¥ì¹¸ í™”ì‚´í‘œ(ìŠ¤í”¼ë„ˆ) ì œê±° --- */
  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
  input[type=number] { -moz-appearance: textfield; }
</style>

<div class="signup-wrap">
  <div class="signup-card">
    <h2 class="title">íšŒì›ê°€ì…</h2>
    <p class="desc">ê²Œì„ íŒŒí‹° ë§¤ì¹­ì„ ìœ„í•´ ê¸°ë³¸ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>

    <form method="post" action="{% url 'account_signup' %}">
      {% csrf_token %}

      {% for e in form.non_field_errors %}
        <div class="error-message" style="margin-bottom:10px;">ğŸš¨ {{ e }}</div>
      {% endfor %}

      <div class="field">
        {{ form.username|add_class:"podo-input"|attr:"placeholder:ì•„ì´ë””(ë¡œê·¸ì¸ìš©)"|add_error_class:"error" }}
        {% for error in form.username.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
      </div>

      <div class="field">
        {{ form.email|add_class:"podo-input"|attr:"placeholder:ì´ë©”ì¼(ì„ íƒ)"|add_error_class:"error" }}
        {% for error in form.email.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
      </div>

      <div class="two">
        <div class="field">
          {{ form.password1|add_class:"podo-input"|attr:"placeholder:ë¹„ë°€ë²ˆí˜¸"|add_error_class:"error" }}
          {% for error in form.password1.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
        </div>
        <div class="field">
          {{ form.password2|add_class:"podo-input"|attr:"placeholder:ë¹„ë°€ë²ˆí˜¸ í™•ì¸"|add_error_class:"error" }}
          {% for error in form.password2.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
        </div>
      </div>

      <hr class="hr"/>

      <div class="field">
        {{ form.nickname|add_class:"podo-input"|attr:"placeholder:ë‹‰ë„¤ì„(íŒŒí‹°ì—ì„œ ì‚¬ìš©)"|add_error_class:"error" }}
        {% for error in form.nickname.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
      </div>

      <div class="field">
        {{ form.phone|add_class:"podo-input"|attr:"placeholder:ì „í™”ë²ˆí˜¸ (ì˜ˆ: 01012345678)"|add_error_class:"error" }}
        {% for error in form.phone.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
      </div>

      <div class="two">
        <div class="field">
          {{ form.birth_year|add_class:"podo-input"|add_error_class:"error" }}
          {% for error in form.birth_year.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
        </div>
        <div class="field">
          {{ form.gender|add_class:"podo-input"|add_error_class:"error" }}
          {% for error in form.gender.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
        </div>
      </div>

      <hr class="hr"/>

      <div class="field">
        <label class="checkbox-wrap">
          {{ form.mic_enabled }}
          <span class="checkbox-label">ğŸ™ï¸ ë§ˆì´í¬ ì‚¬ìš© ê°€ëŠ¥ (ë³´ì´ìŠ¤ ì°¸ì—¬)</span>
        </label>
      </div>

      <div class="field">
        <div style="margin:8px 0; color:rgba(255,255,255,.75); font-size:14px; font-weight:600;">ì£¼ë¡œ í•˜ëŠ” ê²Œì„ (ë‹¤ì¤‘ ì„ íƒ)</div>
        <div class="games">
          {% for checkbox in form.main_games %}
            <div class="game-item">
              {{ checkbox.tag }}
              <label for="{{ checkbox.id_for_label }}">{{ checkbox.choice_label }}</label>
            </div>
          {% endfor %}
        </div>
        {% for error in form.main_games.errors %}<div class="error-message">{{ error }}</div>{% endfor %}
      </div>

      <button class="btn" type="submit">ê°€ì… ì™„ë£Œ</button>
      
    </form>
  </div>
</div>

<div class="footer">
  ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="{% url 'account_login' %}">ë¡œê·¸ì¸</a>
</div>
{% endblock %}